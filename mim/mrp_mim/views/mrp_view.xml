<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<record model="ir.ui.view" id="mrp_bom_form_view_inherit">
      <field name="name">mrp.bom.form.inherit</field>
      <field name="model">mrp.bom</field>
      <field name="inherit_id" ref="mrp.mrp_bom_form_view" />
      <field name="arch" type="xml">
          <xpath expr="//field[@name='bom_line_ids']//field[@name='product_id']" position="after">
              <button type="object" name="open_view_component" string="Ajout des sous-composants" />
          </xpath>
          <xpath expr="//field[@name='bom_line_ids']//field[@name='product_uom_id']" position="after">
              <field name="is_accessory" />
          </xpath>
      </field>
	</record>
	
	<record model="ir.ui.view" id="mrp_configuration_component_view">
	    <field name="name">mrp.configuration.component.view</field>
	    <field name="model">mrp.component</field>
	    <field name="type">form</field>
	    <field name="arch" type="xml">
	        <form>
	        	<group string="Généralités">
	        		<field name="product_parent_id" />
	        		<field name="component_exist" invisible="1"/>
	        	</group>
	        	<group string="Calcul (Code Python)">
	        		<field name="variable" readonly="1"/>
	        	</group>
                <group>
                    <field name="sub_component_ids" nolabel="1">
                        <tree editable="bottom">
                            <field name="name" />
                            <field name="python_product_qty" />
                            <field name="python_product_qty_total" />
                            <field name="python_len_unit" />
                            <field name="python_len_total" />
                        </tree>
                    </field>
                </group>
                <footer>
                    <button class="oe_highlight" type="object" name="save_component" string="Enregistrer" attrs="{'invisible': [('component_exist', '!=', False)]}" />
                    or
                    <button class="oe_link" special="cancel" string="Cancel" />
                </footer>
	        </form>
	    </field>
	</record>
</odoo>